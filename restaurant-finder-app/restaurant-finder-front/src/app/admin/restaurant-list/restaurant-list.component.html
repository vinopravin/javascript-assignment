<div class="wrapper">
    <div class="center-logo nav-header">
        <span class="material-icons" (click)="goBack()">
            keyboard_backspace
        </span>
        <h1>Restaurant Finder</h1>
        <span class="material-icons admin-btn" routerLink="/admin/dashboard">
            account_circle
        </span>
    </div>
    <div class="added-details">
        You can edit / update and remove restaurants from here.
    </div>
    <div class="data-tables">
        <table id="customers">
            <tr>
                <th>No</th>
                <th>Name</th>
                <th>Action</th>
            </tr>
            <tr *ngFor="let restaurant of restaurantService.restaurantList; let i = index">
                <td>{{ i+1 }}</td>
                <td>{{ restaurant.name }}</td>
                <td class="action">
                    <span class="material-icons" (click)="openModal('update', restaurant)">
                        create
                    </span>
                    <span class="material-icons" (click)="openModal('remove', restaurant)">
                        delete
                    </span>
                    <button class="menu-btn" [routerLink]="['/admin/menus', restaurant._id]">
                        Menu
                    </button>
                </td>
            </tr>
        </table>
    </div>
    <button class="fab" (click)="openModal('add')">
        <span class="material-icons">
            add
        </span>
        Add Restaurant
    </button>
</div>


<!-- The Modal -->
<div id="myModal" class="modal" #myModal>
    <!-- Modal content -->
    <div class="modal-content">
        <span class="close" #closeBtn1 (click)="closeModal('update')">&times;</span>

        <form class="login-form">
            <div class="form-header">
                <span class="title">
                    {{ selectedAction }} Restaurant
                </span>
            </div>
            <div class="input_container" id="name_box">
                <label for="email">Name</label>
                <input class="input_box" type="text" name="name" [(ngModel)]="restaurantDetails.name">
            </div>
            <div class="input_container" id="address_locality">
                <label for="email">Locality</label>
                <input class="input_box" type="text" name="locality" [(ngModel)]="restaurantDetails.address.locality">
            </div>
            <div class="input_container" id="adress_street">
                <label for="email">Street</label>
                <input class="input_box" type="text" name="street_name"
                    [(ngModel)]="restaurantDetails.address.street_name">
            </div>
            <div class="input_container" id="state_box">
                <label for="email">State</label>
                <select class="input_box" type="text" name="state" [(ngModel)]="restaurantDetails.address.state"
                    (ngModelChange)="getCities($event)">
                    <option *ngFor="let state of helperService.statesList" [value]="state">{{ state }}</option>
                </select>
            </div>
            <div class="input_container" id="password_box">
                <label for="password">City</label>
                <select class="input_box" [(ngModel)]="selectedCity.name" type="text" name="city"
                    (change)="selectCity(selectedCity)">
                    <option *ngFor="let citi of helperService.selectedStateCityList" [value]="citi.name">{{ citi.name }}
                    </option>
                </select>
            </div>
            <div class="input_container" id="adress_street">
                <label for="email">Cuisines</label>
                <input class="input_box" type="text" name="cusienes" [(ngModel)]="restaurantDetails.cuisines"
                    placeholder="seperate each cuisines with ,">
            </div>
            <button type="submit" class="btn btn-submit" (click)="addLocation()">
                Submit
            </button>
        </form>
    </div>
</div>

<!-- The Modal -->
<div id="removeModal" class="modal" #removeModal>
    <!-- Modal content -->
    <div class="modal-content">
        <span class="close" #closeBtn2 (click)="closeModal('remove')">&times;</span>

        <p>Are you sure want to delete it?</p>
        <button type="submit" class="btn btn-submit" (click)="removeLocation()">
            Yes
        </button>
    </div>
</div>